<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Password Generator</title>
    <link rel="stylesheet" href="styleP.css">
</head>
<body>
    <header>
        <div class="search">
            <input class="search-bar" type="text" placeholder="Pesquisa">
        </div>
        <div class="headerlogomenu">
            <div class="logo">
                <h1>InfoShieldLogo</h1>
            </div>
            <div class="menu">
                <ul>
                    <li class="menu-item active">
                        <a href="#">Senhas</a>
                    </li>
                    <li class="menu-item">
                        <a href="#">Quiz</a>
                    </li>
                    <li class="menu-item">
                        <a href="#">Aprenda</a>
                    </li>
                    <li class="menu-item">
                        <a href="#">Alerta</a>
                    </li>
                </ul>
                <svg class="menu-icon" width="40px" height="40px" viewBox="0 0 24 24" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">
                    <title>Menu</title>
                    <g id="Page-1" stroke="none" stroke-width="1" fill="none" fill-rule="evenodd">
                        <g id="Menu">
                            <rect id="Rectangle" fill-rule="nonzero" x="0" y="0" width="24" height="24">
                
                </rect>
                            <line x1="5" y1="7" x2="19" y2="7" id="Path" stroke="#0C0310" stroke-width="2" stroke-linecap="round">
                
                </line>
                            <line x1="5" y1="17" x2="19" y2="17" id="Path" stroke="#0C0310" stroke-width="2" stroke-linecap="round">
                
                </line>
                            <line x1="5" y1="12" x2="19" y2="12" id="Path" stroke="#0C0310" stroke-width="2" stroke-linecap="round">
                
                </line>
                        </g>
                    </g>
                </svg>
            </div>
        </div>
    </header>
    <section class="banner-principal">
        <img class="img-fluid banner-image" src="imagens/Password Banner.jpeg" alt="Generator Password Banner">
    </section>
    <div class="password-description">
        <h2>Bem-vindo ao nosso Gerador de Senhas!</h2>
        <p>Esta é uma ferramenta poderosa projetada para fortalecer sua segurança online criando senhas robustas e únicas para diferentes grupos de serviços. Aqui está como você pode utilizar o nosso gerador:</p>
        <ol>
            <li><strong>Defina o Grupo de Senhas:</strong> Cada senha pode ser categorizada em um grupo para fácil organização. Por exemplo, você pode ter grupos como "Redes Sociais", "Contas Bancárias" ou "Emails". Comece digitando o título do grupo no campo designado "Digite o título do grupo". Se já existir um grupo com esse título, a nova senha será adicionada a ele. Caso contrário, um novo grupo será criado substituindo um dos grupos padrão "Group Title" que ainda não foi personalizado.</li>
            <li><strong>Nomeie Sua Senha:</strong> Depois de definir o grupo, você precisará fornecer um nome para sua senha no campo "Digite o nome da senha". Esse nome ajudará você a identificar para qual serviço ou conta a senha pertence, como "Facebook" ou "Conta do Gmail".</li>
            <li><strong>Gere a Senha:</strong> Com o grupo e o nome da senha definidos, basta clicar no botão "CLIQUE PARA GERAR SENHAS". Nosso sistema então gerará uma senha segura, composta por uma combinação aleatória de letras maiúsculas e minúsculas, números e símbolos especiais. Esta senha será exibida ao lado do nome que você forneceu, dentro do grupo correspondente.</li>
            <li><strong>Administração dos Grupos:</strong> Você pode adicionar várias senhas a um mesmo grupo ou criar até três grupos diferentes para suas senhas. Se tentar criar mais de três grupos, o sistema exibirá uma mensagem de erro, pois o limite máximo é de três grupos.</li>
            <li><strong>Segurança:</strong> Lembre-se de que uma senha forte é uma das melhores defesas contra o acesso não autorizado às suas contas. Nosso gerador de senhas assegura que cada senha criada seja difícil de adivinhar ou quebrar.</li>
        </ol>
        <p>Use nosso gerador de senhas para manter suas informações pessoais seguras e organizadas, garantindo maior tranquilidade em suas atividades online.</p>
    </div>
    
    <div class="generatePassword button">  
        <input class="groupDefinition" type="text" placeholder="Digite o título do grupo" id="groupInput">
        <input class="passwordName" type="text" placeholder="Digite o nome do subgrupo" id="groupInputTitle">
        <button onclick="generatePasswordsForGroup()">CLIQUE PARA GERAR SENHAS</button>
        <button class="clearGroupsAndPassword" onclick="resetGroups()">Limpar Grupos e Senhas</button>
    </div>
    <div class="password-groups" id="passwordGroupsContainer">
        <div class="save-group">
            <span class="grouptitle">Group Title 1</span>
            <div class="passwords">

            </div>
        </div>
        <div class="save-group">
            <span class="grouptitle">Group Title 2</span>
            <div class="passwords">

            </div>
        </div>        
        <div class="save-group">
            <span class="grouptitle">Group Title 3</span>
            <div class="passwords">

            </div>
        </div>  
    </div>
    <footer class="footer">
        <span>Footer</span>
    </footer>
    <script>
        let currentReplacementIndex = 0; // Variável para rastrear qual Group Title substituir
        let staticTitles = ["Group Title 1", "Group Title 2", "Group Title 3"];
        let groupTitleMap = {}; // Mapa para verificar grupos existentes

        function resetGroups() {
            // Restaurar os títulos dos grupos para os valores padrão
            const passwordGroupsContainer = document.getElementById('passwordGroupsContainer');
            const groups = Array.from(passwordGroupsContainer.children);
            staticTitles = ["Group Title 1", "Group Title 2", "Group Title 3"]; // Restaurar títulos padrão
            groupTitleMap = {}; // Limpar o mapa de grupos

            // Restaurar títulos e limpar as senhas
            groups.forEach((group, index) => {
                const titleElement = group.querySelector('.grouptitle');
                const passwordsContainer = group.querySelector('.passwords');
                titleElement.textContent = staticTitles[index]; // Restaurar títulos
                passwordsContainer.innerHTML = ''; // Limpar senhas
            });

            currentReplacementIndex = 0; // Resetar o índice de substituição
        }


        function generatePasswordsForGroup() {
            const groupTitleInput = document.getElementById('groupInput');
            const groupTitle = groupTitleInput.value.trim();
            if (!groupTitle) {
                alert('Por favor, digite um título para o grupo.');
                return;
            }

            const passwordTitleInputElement = document.getElementById('groupInputTitle');
            const passwordTitleNotEmpty = passwordTitleInputElement.value.trim();
            if (!passwordTitleNotEmpty) {
                alert('Por favor, digite um subgrupo para a senha.');
                return;
            }

            const passwordGroupsContainer = document.getElementById('passwordGroupsContainer');
            const groups = Array.from(passwordGroupsContainer.children);

            if (Object.keys(groupTitleMap).length >= 3 && groupTitleMap[groupTitle] === undefined) {
                alert('Você já atingiu o limite máximo de 3 grupos de senhas.');
                return;
            }

            if (groupTitleMap[groupTitle] !== undefined) {
                // Grupo já existente, não substituir outro título estático
                targetGroup = groups[groupTitleMap[groupTitle]];
            } else {
                // Procura um novo grupo estático para substituir
                while (groupTitleMap[staticTitles[currentReplacementIndex]] !== undefined) {
                    currentReplacementIndex = (currentReplacementIndex + 1) % staticTitles.length;
                }
                targetGroup = groups[currentReplacementIndex];
                staticTitles[currentReplacementIndex] = groupTitle; // Atualiza o título estático
                groupTitleMap[groupTitle] = currentReplacementIndex; // Mapeia o grupo ao índice
            }

            if (targetGroup) {
                // Atualiza o título do grupo encontrado
                const titleElement = targetGroup.querySelector('.grouptitle');
                titleElement.textContent = groupTitle;

                // Limpar senhas existentes e adicionar uma nova
                const passwordsContainer = targetGroup.querySelector('.passwords');
                addNewPassword(passwordsContainer);
            } else {
                alert('Não há mais grupos estáticos para substituir.');
            }
        }

        function addNewPassword(container) {
            const passwordTitleInput = document.getElementById('groupInputTitle');
            const passwordTitle = passwordTitleInput.value.trim();
            const passwordItem = document.createElement('span');
            passwordItem.className = 'passwordItem';
            passwordItem.textContent = passwordTitle + ': ' + generatePassword(); // Gera uma nova senha
            container.appendChild(passwordItem);
        }

        function generatePassword() {
            const length = 8;
            const charset = "abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789!@#$%^&*()_+-=[]{}|;:',.<>?";
            let password = "";
            for (let i = 0; i < length; i++) {
                let randomIndex = Math.floor(Math.random() * charset.length);
                password += charset[randomIndex];
            }
            return password;
        }

    </script>
        
</body>
</html>
